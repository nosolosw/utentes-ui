<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <title>Utentes</title>
  <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"> -->
  <link rel="stylesheet" href="vendor/leaflet/leaflet.css" />
  <link rel="stylesheet" href="vendor/leaflet-draw/dist/leaflet.draw.css" />
  <link rel="stylesheet" href="exploracao-show.css" />
</head>
<body class="container-fluid">
  <main>

    <section id="intro-section" class="row">

      <div id="info-section" class="col-xs-6">

        <div id="title" class="row">
          <div class="col-xs-12">
            <h1>Exploração
              <span class="pull-right">
                <button type="button" class="btn btn-default btn-sm">Documentos</button>
                <button type="button" class="btn btn-primary btn-sm">Guardar</button>
                <button type="button" class="btn btn-default btn-sm">Restaurar</button>
                <button type="button" class="btn btn-default btn-sm">Eliminar</button>
              </span>
            </h1>
          </div>
        </div>

        <section id="info">
          <div class="row">
            <h3 class="col-xs-1"><i class="fa fa-info"></i></h3>
            <h3 class="col-xs-10"><span class="widget" id="exp_id"></span> <span class="widget" id="exp_name"></span> <small>Editar</small></h3>
          </div>
          <div class="row">
            <span class="col-xs-offset-1 col-xs-11">Data solicitude: <span class="widget" id="d_solici"></span></span>
          </div>
          <div class="row">
            <span class="col-xs-offset-1 col-xs-11 widget" id="observacio"></span>
          </div>
          <div class="row">
            <div class="col-xs-offset-1 col-xs-12">
              <span class="label label-success">LICENCIA ATIVA</span>
              <span class="label label-default">CONSUMO APROPRIADO</span>
              <span class="label label-danger">PAGAMENTOS PENDENTES</span>
            </div>
          </div>

          <div class="row">
            <h3 class="col-xs-1"><i class="fa fa-map-marker"></i></h3>
            <h3 class="col-xs-11"><span class="widget" id="loc_provin"></span> / <span class="widget" id="loc_distri"></span> <small>Editar</small></h3>
          </div>
          <div class="row">
            <span class="col-xs-offset-1 col-xs-11">Posto: <span class="widget" id="loc_posto"></span> / Núcleo: <span class="widget" id="loc_nucleo"></span> / Enderezo: <span class="widget" id="loc_endere"></span></span>
          </div>
          <div class="row">
            <span class="col-xs-offset-1 col-xs-11">Bacia: <span class="widget" id="loc_bacia"></span> / Sub-bacia: <span class="widget" id="loc_subaci"></span> / Río: <span class="widget" id="loc_rio"></span></span>
          </div>
        </section>

        <section id="utente">
          <div class="row">
            <h3 class="col-xs-1"><i class="fa fa-user"></i></h3>
            <h3 class="col-xs-11"><span class="widget" id="nome"></span> <small>Editar</small></h3>
          </div>
          <div class="row">
            <span class="col-xs-offset-1 col-xs-11">NUIT: <span class="widget" id="nuit"></span> / Registro: <span class="widget" id="reg_comerc"></span> / <span class="widget" id="reg_zona"></span></span>
          </div>
        </section>

      </div>

      <div id="map-section" class="col-xs-6">
        <div class="row">
          <div id="map" class="col-xs-12"></div>
        </div>
      </div>

    </section>

    <section id="consumos" class="row volume-summary text-center">

      <div class="col-xs-3">
        <h3>90 m<sup>3</sup></h3>
        <span>LICENCIADOS</span>
      </div>

      <div class="col-xs-3">
        <h3>82 m<sup>3</sup></h3>
        <span>REQUERIDOS</span>
      </div>

      <div class="col-xs-3">
        <h3>78 m<sup>3</sup></h3>
        <span>REAIS</span>
      </div>

      <div class="col-xs-3">
        <h3>82 m<sup>3</sup></h3>
        <span>ESTIMADOS</span>
      </div>

    </section>

    <br>

    <section class="row">

      <div class="col-xs-6" id="licencia-superficial">
        <div class="row">
          <h3 class="col-xs-1"><i class="fa fa-tint"></i></h3>
          <h3 class="col-xs-11">Licencia superficial: <span class="widget" id="lic_nro"></span> <small>Editar</small></h3>
        </div>
        <div class="row">
          <span class="col-xs-offset-1 col-xs-11">Cadastro: <span class="widget" id="cadastro"></span>
        </div>
        <div class="row">
          <span class="col-xs-offset-1 col-xs-11">
            <span class="label label-default">EMISSÃO: -</span>
            <span class="label label-default">VALIDADE: -</span>
          </span>
        </div>
        <br>
        <div class="row">
          <div class="col-xs-offset-1 col-xs-3 text-center volume-summary">
            <h4>90 m<sup>3</sup></h4>
            <span>licenciados</span>
          </div>
          <div class="col-xs-3 text-center volume-summary">
            <h4>82 m<sup>3</sup></h4>
            <span>requeridos</span>
          </div>
          <div class="col-xs-3 text-center volume-summary">
            <h4>78 m<sup>3</sup></h4>
            <span>reais</span>
          </div>
        </div>
      </div>

      <div class="col-xs-6" id="licencia-subterranea">
        <div class="row">
          <h3 class="col-xs-1"><i class="fa fa-tint"></i></h3>
          <h3 class="col-xs-11">Licencia subterránea: - <small>Engadir</small></h3>
        </div>

        <div class="row">
          <span class="col-xs-offset-1 col-xs-11" style="color: white">-</span>
          <span class="col-xs-offset-1 col-xs-11" style="color: white">-</span>
        </div>

        <br>

        <div class="row ">
          <div class="col-xs-offset-1 col-xs-3 text-center volume-summary">
            <h4>-</h4>
            <span>licenciados</span>
          </div>
          <div class="col-xs-3 text-center volume-summary">
            <h4>-</h4>
            <span>requeridos</span>
          </div>
          <div class="col-xs-3 text-center volume-summary">
            <h4>-</h4>
            <span>reais</span>
          </div>
        </div>

      </div>

    </section>

    <br>

    <section class="row">

      <div class="col-xs-12">

        <table class="table">
          <thead>
            <tr>
              <th></th>
              <th>Tipo de água</th>
              <th>Tipo de fonte</th>
              <th>Lat / Lon</th>
              <th>V. requerido</th>
              <th>V. máximo</th>
              <th>V. real</th>
              <th>Toma de dados</th>
              <th>Contador</th>
              <th>Comentários</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><i class="fa fa-caret-down"></i></td>
              <td>Superficial</td>
              <td>Rio</td>
              <td></td>
              <td>25</td>
              <td>25</td>
              <td>25</td>
              <td>Março 2014</td>
              <td>Sí</td>
              <td></td>
            </tr>
            <tr>
              <td><i class="fa fa-caret-down"></i></td>
              <td>Superficial</td>
              <td>Río</td>
              <td></td>
              <td>25</td>
              <td>25</td>
              <td>25</td>
              <td>Marzal 2014</td>
              <td>No</td>
              <td></td>
            </tr>
            <tr>
              <td><i class="fa fa-caret-down"></i></td>
              <td>Superficial</td>
              <td>Rio</td>
              <td></td>
              <td>25</td>
              <td>25</td>
              <td>25</td>
              <td>Março 2014</td>
              <td></td>
              <td></td>
            </tr>
          </tbody>
        </table>

        <div class="row">
          <div class="form-group col-xs-offset-6 col-xs-3">
            <label class="text">V. superficial intermédio</label>
            <input class="form-control" type="text" name="nome" value="5">
          </div>
          <div class="form-group col-xs-3">
            <label class="text">V. subterráneo intermédio</label>
            <input class="form-control" type="text" name="nome" value="5">
          </div>
        </div>

      </div>

    </div>
  </section>

  <section class="row">

    <div class="col-xs-6">
      <div class="row">
        <h3 class="col-xs-1"><i class="fa fa-wrench"></i></h3>
        <h3 class="col-xs-11">Atividade e estimação</h3>
      </div>
    </div>

  </section>


  <section class="row volume-summary volume-activity">

    <div class="col-xs-5">
      <div class="col-xs-4 text-center">
        <h4>41 m<sup>3</sup></h4>
        <span>abastecimento</span>
      </div>
      <div class="col-xs-4 text-center">
        <h4>-</h4>
        <span>saneamento</span>
      </div>
      <div class="col-xs-4 text-center">
        <h4>-</h4>
        <span>indústria</span>
      </div>
    </div>

    <div class="col-xs-5">
      <div class="col-xs-4 text-center">
        <h4>41 m<sup>3</sup></h4>
        <span>agricultura</span>
      </div>
      <div class="col-xs-4 text-center">
        <h4>-</h4>
        <span>pecuária</span>
      </div>
      <div class="col-xs-4 text-center">
        <h4>-</h4>
        <span>piscicultura</span>
      </div>
    </div>

    <div class="col-xs-2">
      <div class="col-xs-12 text-center">
        <h4>-</h4>
        <span>producção energia</span>
      </div>
    </div>

  </section>

  <section class="row">

    <div class="col-xs-4">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-11">
          <label class="checkbox">
            <input type="checkbox">Abastecimento
            <small>Editar</small>
          </label>
        </div>
      </div>
      <div class="row">
        <span class="col-xs-offset-1 col-xs-11">Nº habitantes: 5.000</span>
      </div>
    </div>

    <div class="col-xs-4">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-11">
          <label class="checkbox">
            <input type="checkbox">Agricultura
            <small>Editar</small>
          </label>
        </div>
      </div>
      <div class="row">
        <span class="col-xs-offset-1 col-xs-11">Tomates, rego, 20 m<sup>2</sup></span>
      </div>
    </div>

    <div class="col-xs-4">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-11">
          <label class="checkbox">
            <input type="checkbox">Piscicultura
            <small>Editar</small>
          </label>
        </div>
      </div>
      <div class="row">
        <span class="col-xs-offset-1 col-xs-11">Área exploração: 25 km <sup>2</sup>, Reserva água: 25 m<sup>3</sup></span>
      </div>
    </div>

  </section>

  <section class="row">

    <div class="col-xs-4">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-11">
          <label class="checkbox">
            <input type="checkbox">Saneamento
            <small>Editar</small>
          </label>
        </div>
      </div>
      <div class="row">
        <span class="col-xs-offset-1 col-xs-11">Nº habitantes: 5.000</span>
      </div>
    </div>

    <div class="col-xs-4">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-11">
          <label class="checkbox">
            <input type="checkbox">Pecuária
            <small>Editar</small>
          </label>
        </div>
      </div>
      <div class="row">
        <span class="col-xs-offset-1 col-xs-11">23 ovelhas, 5 vacas</span>
      </div>
    </div>

    <div class="col-xs-4">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-11">
          <label class="checkbox">
            <input type="checkbox">Producção Energia
            <small>Editar</small>
          </label>
        </div>
      </div>
      <div class="row">
        <span class="col-xs-offset-1 col-xs-11">Tipo de atividade</span>
      </div>
    </div>

  </section>

  <section class="row">

    <div class="col-xs-4">
      <div class="row">
        <div class="col-xs-offset-1 col-xs-11">
          <label class="checkbox">
            <input type="checkbox">Indústria
            <small>Editar</small>
          </label>
        </div>
      </div>
      <div class="row">
        <span class="col-xs-offset-1 col-xs-11">Nº habitantes: 5.000</span>
      </div>
    </div>

  </section>

</main>

<script src="vendor/jquery/jquery-1.12.0.min.js"></script>
<script src="vendor/json2.js" charset="utf-8"></script>
<script src="vendor/underscore/underscore-min.js" charset="utf-8"></script>
<script src="vendor/backbone/backbone-min.js" charset="utf-8"></script>

<script src="config.js" charset="utf-8"></script>
<script src="models/Licencia.js" charset="utf-8"></script>
<script src="models/Licencias.js" charset="utf-8"></script>
<script src="models/Utente.js" charset="utf-8"></script>
<script src="models/Exploracao.js" charset="utf-8"></script>
<script src="views/common/Widgets.js" charset="utf-8"></script>
<script src="exploracao-show.js" charset="utf-8"></script>

<script src="vendor/leaflet/leaflet.js"></script>

<!-- <script src="libs/leaflet-src.js"></script> -->

<script src="vendor/leaflet-draw/src/Leaflet.draw.js"></script>

<script src="vendor/leaflet-draw/src/edit/handler/Edit.Poly.js"></script>
<script src="vendor/leaflet-draw/src/edit/handler/Edit.SimpleShape.js"></script>
<script src="vendor/leaflet-draw/src/edit/handler/Edit.Circle.js"></script>
<script src="vendor/leaflet-draw/src/edit/handler/Edit.Rectangle.js"></script>

<script src="vendor/leaflet-draw/src/draw/handler/Draw.Feature.js"></script>
<script src="vendor/leaflet-draw/src/draw/handler/Draw.Polyline.js"></script>
<script src="vendor/leaflet-draw/src/draw/handler/Draw.Polygon.js"></script>
<script src="vendor/leaflet-draw/src/draw/handler/Draw.SimpleShape.js"></script>
<script src="vendor/leaflet-draw/src/draw/handler/Draw.Rectangle.js"></script>
<script src="vendor/leaflet-draw/src/draw/handler/Draw.Circle.js"></script>
<script src="vendor/leaflet-draw/src/draw/handler/Draw.Marker.js"></script>

<script src="vendor/leaflet-draw/src/ext/LatLngUtil.js"></script>
<script src="vendor/leaflet-draw/src/ext/GeometryUtil.js"></script>
<script src="vendor/leaflet-draw/src/ext/LineUtil.Intersect.js"></script>
<script src="vendor/leaflet-draw/src/ext/Polyline.Intersect.js"></script>
<script src="vendor/leaflet-draw/src/ext/Polygon.Intersect.js"></script>

<script src="vendor/leaflet-draw/src/Control.Draw.js"></script>
<script src="vendor/leaflet-draw/src/Tooltip.js"></script>
<script src="vendor/leaflet-draw/src/Toolbar.js"></script>

<script src="vendor/leaflet-draw/src/draw/DrawToolbar.js"></script>
<script src="vendor/leaflet-draw/src/edit/EditToolbar.js"></script>
<script src="vendor/leaflet-draw/src/edit/handler/EditToolbar.Edit.js"></script>
<script src="vendor/leaflet-draw/src/edit/handler/EditToolbar.Delete.js"></script>

<script type="text/javascript">

var base = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
  attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
});

var exploracaoGeoJSON = {
  "type": "Feature",
  "properties": {
    "name": "Coors Field",
    "amenity": "Baseball Stadium",
    "popupContent": "This is where the Rockies play!"
  },
  "geometry": {
    "type": "Polygon",
    // "coordinates": [38.5050, -13.3030]
    "coordinates": [[
      [38.4563, -13.2907],
      [38.5908, -13.2720],
      [38.5496, -13.3575],
      [38.3464, -13.4403]
    ]]
  }
};
var cultivosGeoJSON = {
  "type": "Feature",
  "properties": {
    "name": "Coors Field",
    "amenity": "Baseball Stadium",
    "popupContent": "This is where the Rockies play!"
  },
  "geometry": {
    "type": "Polygon",
    // "coordinates": [38.5050, -13.3030]
    "coordinates": [[
      [38.4700, -13.3000],
      [38.4496, -13.3575],
      [38.4302, -13.3503]
    ]]
  }
};
var exploracao = L.geoJson(exploracaoGeoJSON);
var cultivos = L.geoJson(cultivosGeoJSON);

var map = L.map('map', {
  center: [-13.3030, 38.5050],
  zoom: 10,
  layers: [base, exploracao, cultivos]
});

var baseMaps = {};
var overlayMaps = {
  'Exploração': exploracao,
  'Cultivos': cultivos
};
L.control.layers(baseMaps, overlayMaps).addTo(map);

var drawnItems = new L.GeoJSON();
var drawControl = new L.Control.Draw({
  draw: {
    circle: false,
    rectangle: false,
    marker: false,
    polyline: false
  },
  edit: {
    featureGroup: exploracao
  }
});
map.addControl(drawControl);

map.on('draw:start', function (e) {
  var type = e.layerType,
  layer = e.layer;

  if (type === 'marker') {
    // Do marker specific actions
  }

  // Do whatever else you need to. (save to db, add to map etc)
  // exploracao.addData(drawnItems);
});

</script>
</body>
</html>
